<!-- src/views/ReviewWordsPage.vue -->
<template>
  <div class="review-words-page">
    <h2>–ú–æ–∏ –≤—ã—É—á–µ–Ω—ã–µ —Å–ª–æ–≤–∞</h2>
    <ul v-if="learnedWords.length">
      <li v-for="(word) in learnedWords" :key="word.en">
        <p> üá∫üá∏ {{ word.en }}</p>
        <p> üáÆüáπ {{ word.it }}</p>
        <p> üá∑üá∫ {{ word.ru }}</p>
        <Button variant="secondary" size="medium" @click="removeWord(word.en)">–£–¥–∞–ª–∏—Ç—å</Button>
      </li>
    </ul>
    <div v-else>
      <p>–í—ã –µ—â—ë –Ω–µ –≤—ã—É—á–∏–ª–∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ —Å–ª–æ–≤–∞.</p>
    </div>
  </div>
</template>

<script setup>
import {ref} from 'vue';
import Button from '@/components/ui/Button.vue';
import './ReviewWordsPage.scss';

const learnedWords = ref(JSON.parse(localStorage.getItem('learnedWords') || '[]'));

const removeWord = (wordEn) => {
  // –ù–∞—Ö–æ–¥–∏–º –∏–Ω–¥–µ–∫—Å —Å–ª–æ–≤–∞ –ø–æ –∫–ª—é—á—É 'en'
  const index = learnedWords.value.findIndex(word => word.en === wordEn);

  if (index !== -1) {
    learnedWords.value.splice(index, 1); // –£–¥–∞–ª—è–µ–º —Å–ª–æ–≤–æ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
    localStorage.setItem('learnedWords', JSON.stringify(learnedWords.value)); // –û–±–Ω–æ–≤–ª—è–µ–º localStorage
  }
};
</script>
